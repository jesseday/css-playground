---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Prose from "@/components/Prose.astro";
import Info from "@/components/Info.astro";
---

<BaseLayout title="subgrid">
  <Prose>
    <Info>In progress.</Info>
  </Prose>
  <article>
    <div class="grid">
      <div class="item">
        <h2>Item 1</h2>
        <p class="content">
          Faucibus litora phasellus sagittis lectus ex dui cubilia posuere
          dapibus magna quis varius ultrices, hendrerit amet tortor ipsum
          condimentum risus torquent.
        </p>
      </div>
      <div class="item">
        <h2>Item 2 is longer than item one and should wrap</h2>
        <p class="content">
          Faucibus litora phasellus sagittis lectus ex dui cubilia posuere
          dapibus.
        </p>
      </div>
      <div class="item">
        <h2>Item 3</h2>
        <p class="content">
          Faucibus litora phasellus sagittis lectus ex dui cubilia posuere
          dapibus magna quis varius ultrices.
        </p>
      </div>
      <div class="item">
        <h2>Item 4</h2>
        <p class="content">
          Risus torquent et tempor sodales fermentum felis. Sagittis porta felis
          sit fames nisl eget hac metus quis duis rutrum euismod velit donec
          conubia suspendisse vivamus libero, pulvinar senectus scelerisque
          lectus ligula facilisis bibendum penatibus pellentesque volutpat
          torquent venenatis habitasse praesent eros ad.
        </p>
      </div>
      <div class="item">
        <h2>Item 5 is longer than item one and should wrap</h2>
        <p class="content">
          Pulvinar senectus scelerisque lectus ligula facilisis bibendum
          penatibus pellentesque volutpat torquent venenatis habitasse praesent
          eros ad.
        </p>
      </div>
      <div class="item">
        <h2>Item 6</h2>
        <div class="content">
          <p>
            Faucibus litora phasellus sagittis lectus ex dui cubilia posuere
            dapibus.
          </p>
          <ul>
            <li><a href="#">Example link</a></li>
            <li><a href="#">Example link</a></li>
          </ul>
        </div>
      </div>
    </div>
  </article>
</BaseLayout>

<style>
  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: subgrid;
    gap: var(--spacing-xl) var(--spacing-lg);
  }

  @media screen and (min-width: 768px) {
    .grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .item {
    border: 2px solid aquamarine;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);

    display: flex;
    flex-direction: column;
  }

  .item .content,
  .item h2 {
    margin: var(--spacing-md) 0;
  }

  .item h2 {
    line-height: var(--line-height-md);
    grid-row: 2 / 8;

    /*
     * Truncate to 2 lines
     * That makes more sense when laying out the
     * subgrid.  Otherwise we might have items with lots of
     * whitespace if it's sibling has a really long title.
     */
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    /* truncate to 4 lines */
    -webkit-line-clamp: 2;
  }

  ul {
    list-style: none;
    padding: 0;
  }
</style>

<style is:global>
  body {
    font-family: var(--font-sans);
    font-size: var(--font-lg);
    line-height: var(--line-height-lg);
  }
  main {
    max-width: 1440px;
    margin: 0 auto;
    padding: var(--spacing-2xl) var(--spacing-lg);
  }

  @media screen and (min-width: 768px) {
    main {
      padding: var(--spacing-4xl) var(--spacing-lg);
    }
  }
</style>
